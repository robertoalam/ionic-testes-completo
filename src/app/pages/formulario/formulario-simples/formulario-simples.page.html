<ion-header>
  <ion-toolbar>
    <ion-icon name="arrow-back-outline" slot="start" size="large" (click)="voltar()"></ion-icon>
    <ion-title>FORM. SIMPLES</ion-title>
    <ion-icon name="checkmark-sharp" slot="end" size="large" (click)="salvar()"></ion-icon>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form [formGroup]="form">
    <ion-list>
      <ion-item>
        <ion-label position="floating">Nome</ion-label>
        <ion-input label="Nome completo" labelPlacement="stacked" [(ngModel)]="cadastro.nome" name="nome" formControlName="nome"></ion-input>
      </ion-item>
      <ion-label class="ion-text-center" *ngIf="(form.controls.nome.status == 'INVALID' && form.controls.nome.touched )">
        <p class="menssagem-erro">Informe o nome.</p>
      </ion-label>  
    </ion-list>

    <ion-row>
      <ion-col>
        <ion-list>
          <ion-item>
            <ion-label position="floating">Genero</ion-label>
            <ion-select [(ngModel)]="cadastro.genero" name="genero" formControlName="genero" [multiple]="false" interface="popover">
              <ion-select-option *ngFor="let o of listaGenero" [value]="o.id">{{o.descricao}}</ion-select-option>
            </ion-select>
          </ion-item>
          <ion-label class="ion-text-center" *ngIf="(form.controls.genero.status == 'INVALID' && form.controls.genero.touched )">
            <p class="menssagem-erro">Informe o genero.</p>
          </ion-label>  
        </ion-list>
      </ion-col>
      <ion-col>
        <ion-list>
          <ion-item>
            <ion-label position="floating">CPF</ion-label>
            <ion-input label="CPF" labelPlacement="stacked" [(ngModel)]="cadastro.cpf"  name="cpf" formControlName="cpf"></ion-input>
          </ion-item>
          <ion-label class="ion-text-center" *ngIf="(form.controls.cpf.status == 'INVALID' && form.controls.cpf.touched )">
            <p class="menssagem-erro">Informe o cpf.</p>
          </ion-label>    
        </ion-list>   
      </ion-col>
    </ion-row>

    <ion-list>
      <ion-item>
        <ion-label position="floating">Email</ion-label>        
        <ion-input label="Email" labelPlacement="stacked" [(ngModel)]="cadastro.email" name="email" formControlName="email"></ion-input>
      </ion-item>
      <ion-label class="ion-text-center" *ngIf="(form.controls.email.status == 'INVALID' && form.controls.email.touched )">
        <p class="menssagem-erro">Informe o email.</p>
      </ion-label>   
    </ion-list>      

    <ion-list>
      <ion-row>
        <ion-col size="6">
          <ion-list>
            <ion-item id="open-modal-data-nascimento">
              <ion-label position="floating">Nascimento</ion-label>        
              <ion-input label="Nascimento" [value]="converterData(cadastro.nascimento)" name="nascimento" formControlName="nascimento"></ion-input>
            </ion-item>
            <ion-label class="ion-text-center" *ngIf="(form.controls.nascimento.status == 'INVALID' && form.controls.nascimento.touched )">
              <p class="menssagem-erro">Informe o nasc.</p>
            </ion-label>  
          </ion-list>   
        </ion-col>
        <ion-col size="6">
          <ion-list>
            <ion-item>
              <ion-label position="floating">Data</ion-label>        
              <ion-input label="Data" [value]="dataFormata" [ngModelOptions]="{standalone: true}"></ion-input>
            </ion-item>
          </ion-list>   
        </ion-col>       
      </ion-row>
    </ion-list>
    <!--         
        <ion-col>
          <ion-list>
            <ion-item>
              <ion-label position="floating">data</ion-label>        
              <ion-input label="Data de cadastro" labelPlacement="stacked" [(ngModel)]="cadastro.data" name="data" formControlName="data"></ion-input>
              <ion-datetime presentation="date" ></ion-datetime>
            </ion-item>
            <ion-label class="ion-text-center" *ngIf="(form.controls.data.status == 'INVALID' && form.controls.data.touched )">
              <p class="menssagem-erro">Informe a data.</p>
            </ion-label>  
          </ion-list>   
        </ion-col> 
      </ion-row>
    </ion-list>
    <ion-modal trigger="open-modal-data-nascimento" >
      <ng-template>
        <ion-content class="ion-padding">
          <ion-datetime 
            doneText="OK" 
            cancelText="cancelar"
            presentation="date"
            displayFormat="DD-MM-YYYY"        
            [showDefaultButtons]="true"
            [(ngModel)]="cadastro.nascimento"
            (ionCancel)="cadastro.nascimento = ''"
            [ngModelOptions]="{standalone: true}"

          ></ion-datetime>
        </ion-content>
      </ng-template>
    </ion-modal>      
    -->
    <!-- 
    <ion-list>
      <ion-item>
        <ion-label position="floating">IDADE</ion-label>        
        <ion-input label="Idade" labelPlacement="stacked" [(ngModel)]="cadastro.idade" name="idade" formControlName="idade"></ion-input>
      </ion-item>
      <ion-label class="ion-text-center" *ngIf="(form.controls.idade.status == 'INVALID' && form.controls.idade.touched )">
        <p class="menssagem-erro">Informe o idade.</p>
      </ion-label>  
    </ion-list>   
    -->

    <ion-list>
      <ion-item>
        <ion-label position="floating">Observação</ion-label>
        <ion-input label="Observação" labelPlacement="stacked" [(ngModel)]="cadastro.observacao" name="observacao" formControlName="observacao"></ion-input>
      </ion-item>
    </ion-list>        



    <div class="form-dicas">
      <ion-grid>
        <ion-row>
          <ion-col size="6" class="ion-text-end">VALIDO</ion-col>
          <ion-col size="6" class="ion-text-start"><b>{{ form.valid }}</b></ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="6" class="ion-text-end">TOCADO</ion-col>
          <ion-col size="6" class="ion-text-start"><b>{{ form.touched }}</b></ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="6" class="ion-text-end">SUJO</ion-col>
          <ion-col size="6" class="ion-text-start"><b>{{ form.dirty }}</b></ion-col>
        </ion-row>        
      </ion-grid>
    </div>   
  </form>
</ion-content>